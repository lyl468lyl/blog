import{_ as s,o as a,c as n,e as p}from"./app-06032555.js";const o={},t=p(`<h1 id="spring-boot-代码混淆" tabindex="-1"><a class="header-anchor" href="#spring-boot-代码混淆" aria-hidden="true">#</a> Spring Boot 代码混淆</h1><p>参考:https://blog.csdn.net/m0_57042151/article/details/127507097</p><p>使用proguard实现代码混淆。主要是在pom中使用插件来实现。</p><div class="language-cobol line-numbers-mode" data-ext="cobol"><pre class="language-cobol"><code>  <span class="token operator">&lt;</span>build<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>plugins<span class="token operator">&gt;</span>

            <span class="token operator">&lt;</span>plugin<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span>com<span class="token punctuation">.</span>github<span class="token punctuation">.</span>wvengen<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>artifactId<span class="token operator">&gt;</span>proguard-maven-plugin<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span><span class="token number">2.6</span><span class="token number">.0</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>executions<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>!-- 以下配置说明执行mvn的package命令时候，会执行proguard--<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>execution<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>phase<span class="token operator">&gt;</span>package<span class="token operator">&lt;</span><span class="token operator">/</span>phase<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>goals<span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>goal<span class="token operator">&gt;</span>proguard<span class="token operator">&lt;</span><span class="token operator">/</span>goal<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span><span class="token operator">/</span>goals<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>execution<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>executions<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token keyword">configuration</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>!-- 就是输入Jar的名称，我们要知道，代码混淆其实是将一个原始的jar，生成一个混淆后的jar，那么就会有输入输出。 --<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>injar<span class="token operator">&gt;</span>\${project<span class="token punctuation">.</span>build<span class="token punctuation">.</span>finalName}<span class="token punctuation">.</span>jar<span class="token operator">&lt;</span><span class="token operator">/</span>injar<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>!-- 输出jar名称，输入输出jar同名的时候就是覆盖，也是比较常用的配置。 --<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>outjar<span class="token operator">&gt;</span>\${project<span class="token punctuation">.</span>build<span class="token punctuation">.</span>finalName}<span class="token punctuation">.</span>jar<span class="token operator">&lt;</span><span class="token operator">/</span>outjar<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>!-- 是否混淆 默认是<span class="token boolean">true</span> --<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>obfuscate<span class="token operator">&gt;</span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>obfuscate<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>!-- 配置一个文件，通常叫做proguard<span class="token punctuation">.</span>cfg<span class="token punctuation">,</span>该文件主要是配置options选项，也就是说使用proguard<span class="token punctuation">.</span>cfg那么options下的所有内容都可以移到proguard<span class="token punctuation">.</span>cfg中 --<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>proguardInclude<span class="token operator">&gt;</span>\${project<span class="token punctuation">.</span>basedir}<span class="token operator">/</span>proguard<span class="token punctuation">.</span>cfg<span class="token operator">&lt;</span><span class="token operator">/</span>proguardInclude<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>!-- 额外的jar包，通常是项目编译所需要的jar --<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>libs<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>lib<span class="token operator">&gt;</span>\${java<span class="token punctuation">.</span>home}<span class="token operator">/</span>lib<span class="token operator">/</span>rt<span class="token punctuation">.</span>jar<span class="token operator">&lt;</span><span class="token operator">/</span>lib<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>lib<span class="token operator">&gt;</span>\${java<span class="token punctuation">.</span>home}<span class="token operator">/</span>lib<span class="token operator">/</span>jce<span class="token punctuation">.</span>jar<span class="token operator">&lt;</span><span class="token operator">/</span>lib<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>lib<span class="token operator">&gt;</span>\${java<span class="token punctuation">.</span>home}<span class="token operator">/</span>lib<span class="token operator">/</span>jsse<span class="token punctuation">.</span>jar<span class="token operator">&lt;</span><span class="token operator">/</span>lib<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>libs<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>!-- 对输入jar进行过滤比如，如下配置就是对META-INFO文件不处理。 --<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>inLibsFilter<span class="token operator">&gt;</span>!META-INF<span class="token operator">/</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">,</span>!META-INF<span class="token operator">/</span>versions<span class="token operator">/</span><span class="token number">9</span><span class="token operator">/</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token operator">&lt;</span><span class="token operator">/</span>inLibsFilter<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>!-- 这是输出路径配置，但是要注意这个路径必须要包括injar标签填写的jar --<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>outputDirectory<span class="token operator">&gt;</span>\${project<span class="token punctuation">.</span>basedir}<span class="token operator">/</span>target<span class="token operator">&lt;</span><span class="token operator">/</span>outputDirectory<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>!--这里特别重要，此处主要是配置混淆的一些细节选项，比如哪些类不需要混淆，哪些需要混淆--<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>options<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>!-- 可以在此处写option标签配置，不过我上面使用了proguardInclude，故而我更喜欢在proguard<span class="token punctuation">.</span>cfg中配置 --<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>options<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">configuration</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>plugin<span class="token operator">&gt;</span>

            <span class="token operator">&lt;</span>plugin<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>artifactId<span class="token operator">&gt;</span>spring-boot-maven-plugin<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>executions<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>execution<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>goals<span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>goal<span class="token operator">&gt;</span>repackage<span class="token operator">&lt;</span><span class="token operator">/</span>goal<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span><span class="token operator">/</span>goals<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span><span class="token keyword">configuration</span><span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>mainClass<span class="token operator">&gt;</span>com<span class="token punctuation">.</span>shangjian<span class="token punctuation">.</span>mps<span class="token punctuation">.</span>thirdparty<span class="token punctuation">.</span>ShangjianThirdPartyApplication<span class="token operator">&lt;</span><span class="token operator">/</span>mainClass<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">configuration</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>execution<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>executions<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>plugin<span class="token operator">&gt;</span>

























<span class="token operator">&lt;</span>!--            <span class="token operator">&lt;</span>plugin<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                <span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                <span class="token operator">&lt;</span>artifactId<span class="token operator">&gt;</span>spring-boot-maven-plugin<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                <span class="token operator">&amp;</span>lt;!<span class="token operator">&amp;</span>ndash;插件中添加如下内容：executions<span class="token operator">&amp;</span>ndash;<span class="token operator">&amp;</span>gt;--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                <span class="token operator">&lt;</span>executions<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                    <span class="token operator">&lt;</span>execution<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                        <span class="token operator">&lt;</span>goals<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                            <span class="token operator">&lt;</span>goal<span class="token operator">&gt;</span>repackage<span class="token operator">&lt;</span><span class="token operator">/</span>goal<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                        <span class="token operator">&lt;</span><span class="token operator">/</span>goals<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                    <span class="token operator">&lt;</span><span class="token operator">/</span>execution<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                <span class="token operator">&lt;</span><span class="token operator">/</span>executions<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--            <span class="token operator">&lt;</span><span class="token operator">/</span>plugin<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>



<span class="token operator">&lt;</span>!--                <span class="token operator">&lt;</span>plugin<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                    <span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span>org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>maven<span class="token punctuation">.</span>plugins<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                    <span class="token operator">&lt;</span>artifactId<span class="token operator">&gt;</span>maven-compiler-plugin<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                    <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span><span class="token number">3.2</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                    <span class="token operator">&lt;</span><span class="token keyword">configuration</span><span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                        <span class="token operator">&lt;</span><span class="token keyword">source</span><span class="token operator">&gt;</span><span class="token number">1.8</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">source</span><span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                        <span class="token operator">&lt;</span>target<span class="token operator">&gt;</span><span class="token number">1.8</span><span class="token operator">&lt;</span><span class="token operator">/</span>target<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">configuration</span><span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                <span class="token operator">&lt;</span><span class="token operator">/</span>plugin<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>



            <span class="token operator">&lt;</span>!--一键生成docker镜像插件--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--            <span class="token operator">&lt;</span>plugin<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                <span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span>com<span class="token punctuation">.</span>spotify<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                <span class="token operator">&lt;</span>artifactId<span class="token operator">&gt;</span>docker-maven-plugin<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span><span class="token number">1.2</span><span class="token number">.0</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                <span class="token operator">&lt;</span>executions<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                    <span class="token operator">&lt;</span>execution<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                        <span class="token operator">&lt;</span><span class="token keyword">id</span><span class="token operator">&gt;</span>build-image<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">id</span><span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                        <span class="token operator">&lt;</span>phase<span class="token operator">&gt;</span>package<span class="token operator">&lt;</span><span class="token operator">/</span>phase<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                        <span class="token operator">&lt;</span>goals<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                            <span class="token operator">&lt;</span>goal<span class="token operator">&gt;</span>build<span class="token operator">&lt;</span><span class="token operator">/</span>goal<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                        <span class="token operator">&lt;</span><span class="token operator">/</span>goals<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                    <span class="token operator">&lt;</span><span class="token operator">/</span>execution<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                <span class="token operator">&lt;</span><span class="token operator">/</span>executions<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                <span class="token operator">&lt;</span><span class="token keyword">configuration</span><span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                    <span class="token operator">&lt;</span>dockerHost<span class="token operator">&gt;</span>http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">123.57</span><span class="token number">.219</span><span class="token number">.164</span><span class="token punctuation">:</span><span class="token number">2375</span><span class="token operator">&lt;</span><span class="token operator">/</span>dockerHost<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                    <span class="token operator">&lt;</span>imageName<span class="token operator">&gt;</span>picbook-thridpaty<span class="token operator">&lt;</span><span class="token operator">/</span>imageName<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                    <span class="token operator">&lt;</span>dockerDirectory<span class="token operator">&gt;</span>\${project<span class="token punctuation">.</span>basedir}<span class="token operator">&lt;</span><span class="token operator">/</span>dockerDirectory<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                    <span class="token operator">&lt;</span>resources<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                        <span class="token operator">&lt;</span>resource<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                            <span class="token operator">&lt;</span>targetPath<span class="token operator">&gt;</span><span class="token operator">/</span><span class="token operator">&lt;</span><span class="token operator">/</span>targetPath<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                            <span class="token operator">&lt;</span>directory<span class="token operator">&gt;</span>\${project<span class="token punctuation">.</span>build<span class="token punctuation">.</span>directory}<span class="token operator">&lt;</span><span class="token operator">/</span>directory<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                            <span class="token operator">&lt;</span>include<span class="token operator">&gt;</span>\${project<span class="token punctuation">.</span>build<span class="token punctuation">.</span>finalName}<span class="token punctuation">.</span>jar<span class="token operator">&lt;</span><span class="token operator">/</span>include<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                        <span class="token operator">&lt;</span><span class="token operator">/</span>resource<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                    <span class="token operator">&lt;</span><span class="token operator">/</span>resources<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--                <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">configuration</span><span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>!--            <span class="token operator">&lt;</span><span class="token operator">/</span>plugin<span class="token operator">&gt;</span>--<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span><span class="token operator">/</span>plugins<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>build<span class="token operator">&gt;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在pom.xml同级建立一个proguard.cfg,内容如下</p><div class="language-perl line-numbers-mode" data-ext="perl"><pre class="language-perl"><code><span class="token comment">#指定Java的版本</span>
<span class="token operator">-</span>target <span class="token number">1.8</span>
<span class="token comment">#proguard会对代码进行优化压缩，他会删除从未使用的类或者类成员变量等</span>
<span class="token operator">-</span>dontshrink
<span class="token comment">#是否关闭字节码级别的优化，如果不开启则设置如下配置</span>
<span class="token operator">-</span>dontoptimize
<span class="token comment">#混淆时不生成大小写混合的类名，默认是可以大小写混合</span>
<span class="token operator">-</span>dontusemixedcaseclassnames
<span class="token comment"># 对于类成员的命名的混淆采取唯一策略</span>
<span class="token operator">-</span>useuniqueclassmembernames
<span class="token comment">#混淆时不生成大小写混合的类名，默认是可以大小写混合</span>
<span class="token operator">-</span>dontusemixedcaseclassnames
<span class="token comment">#混淆类名之后，对使用Class.forName(&#39;className&#39;)之类的地方进行相应替代</span>
<span class="token operator">-</span>adaptclassstrings

<span class="token comment">#对异常、注解信息予以保留</span>
<span class="token operator">-</span>keepattributes Exceptions<span class="token punctuation">,</span>InnerClasses<span class="token punctuation">,</span>Signature<span class="token punctuation">,</span>Deprecated<span class="token punctuation">,</span>SourceFile<span class="token punctuation">,</span>LineNumberTable<span class="token punctuation">,</span><span class="token variable">*Annotation</span><span class="token operator">*</span><span class="token punctuation">,</span>EnclosingMethod
<span class="token comment"># 此选项将保存接口中的所有原始名称（不混淆）--&gt;</span>
<span class="token operator">-</span>keepnames interface <span class="token operator">**</span> <span class="token punctuation">{</span> <span class="token operator">*</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token comment"># 此选项将保存所有软件包中的所有原始接口文件（不进行混淆）</span>
<span class="token comment">#-keep interface * extends * { *; }</span>
<span class="token comment">#保留参数名，因为控制器，或者Mybatis等接口的参数如果混淆会导致无法接受参数，xml文件找不到参数</span>
<span class="token operator">-</span>keepparameternames
<span class="token comment"># 保留枚举成员及方法</span>
<span class="token operator">-</span>keepclassmembers enum <span class="token operator">*</span> <span class="token punctuation">{</span> <span class="token operator">*</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token comment"># 不混淆所有类,保存原始定义的注释-</span>
<span class="token operator">-</span>keepclassmembers class <span class="token operator">*</span> <span class="token punctuation">{</span>
                        <span class="token variable">@org</span><span class="token operator">.</span>springframework<span class="token operator">.</span>context<span class="token operator">.</span>annotation<span class="token operator">.</span>Bean <span class="token operator">*</span><span class="token punctuation">;</span>
                        <span class="token variable">@org</span><span class="token operator">.</span>springframework<span class="token operator">.</span>beans<span class="token operator">.</span>factory<span class="token operator">.</span>annotation<span class="token operator">.</span>Autowired <span class="token operator">*</span><span class="token punctuation">;</span>
                        <span class="token variable">@org</span><span class="token operator">.</span>springframework<span class="token operator">.</span>beans<span class="token operator">.</span>factory<span class="token operator">.</span>annotation<span class="token operator">.</span>Value <span class="token operator">*</span><span class="token punctuation">;</span>
                        <span class="token variable">@org</span><span class="token operator">.</span>springframework<span class="token operator">.</span>stereotype<span class="token operator">.</span>Service <span class="token operator">*</span><span class="token punctuation">;</span>
                        <span class="token variable">@org</span><span class="token operator">.</span>springframework<span class="token operator">.</span>stereotype<span class="token operator">.</span>Component <span class="token operator">*</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>

<span class="token comment">#忽略warn消息</span>
<span class="token operator">-</span>ignorewarnings
<span class="token comment">#忽略note消息</span>
<span class="token operator">-</span>dontnote
<span class="token comment">#打印配置信息</span>
<span class="token operator">-</span>printconfiguration
<span class="token operator">-</span>keep public class com<span class="token operator">.</span>shangjian<span class="token operator">.</span>mps<span class="token operator">.</span>thirdparty<span class="token operator">.</span>ShangjianThirdPartyApplication <span class="token punctuation">{</span>
        public static void main<span class="token punctuation">(</span>java<span class="token operator">.</span>lang<span class="token operator">.</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>配置后,使用package打包会自动混淆</p><p>![image-20230323153103606](/Users/li/Library/Application Support/typora-user-images/image-20230323153103606.png)</p><p>混淆后的jar包为</p><p>![image-20230323153348164](/Users/li/Library/Application Support/typora-user-images/image-20230323153348164.png)</p>`,10),e=[t];function r(l,c){return a(),n("div",null,e)}const k=s(o,[["render",r],["__file","Spring Boot(proguard) 代码混淆.html.vue"]]);export{k as default};
