import{_ as p,r as o,o as c,c as l,a as n,b as s,d as e,e as t}from"./app-c9231c3a.js";const r={},i=t('<h1 id="openlayers自定义地图图层" tabindex="-1"><a class="header-anchor" href="#openlayers自定义地图图层" aria-hidden="true">#</a> openlayers自定义地图图层</h1><h2 id="使用maptiler可完成切图" tabindex="-1"><a class="header-anchor" href="#使用maptiler可完成切图" aria-hidden="true">#</a> 使用maptiler可完成切图</h2><blockquote><p>免费版会有水印，需要使用付费版<br><a href="/blog/utils/MapTilerPjb.rar">下载</a></p></blockquote><h2 id="瓦片地图汇总" tabindex="-1"><a class="header-anchor" href="#瓦片地图汇总" aria-hidden="true">#</a> 瓦片地图汇总</h2><p>参考：<code>https://www.cnblogs.com/HandyLi/p/11137367.html</code></p><blockquote><p>arcgis街道图<br> 默认图：<code>https://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineCommunity/MapServer/tile/{z}/{y}/{x}</code><br> 灰色图：<code>https://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetGray/MapServer/tile/{z}/{y}/{x}</code><br> 深蓝夜色：<code>https://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}</code></p><p>googlemap: lys参数可选值包括：h（街道图）、m（街道图）、p（街道图）、r（街道图）、s（影像无注记）、y（影像含注记）、t（地形图）<br><code>https://www.google.cn/maps/vt?lyrs=m@189&amp;gl=cn&amp;x={x}&amp;y={y}&amp;z={z}</code></p><p>高德地图<br> 街道（z&gt;=3才有数据）：<code>https://webrd01.is.autonavi.com/appmaptile?lang=zh_cn&amp;size=1&amp;scale=1&amp;style=8&amp;x={x}&amp;y={y}&amp;z={z}</code><br> 影像图：<code>https://webst01.is.autonavi.com/appmaptile?style=6&amp;x={x}&amp;y={y}&amp;z={z}</code></p><p>OSM 街道图（国外服务器，访问较慢）： <code>https://c.tile.openstreetmap.org/{z}/{x}/{y}.png</code><code>https://tile-b.openstreetmap.fr/hot/{z}/{x}/{y}.png</code></p></blockquote><h2 id="相关扩展插件" tabindex="-1"><a class="header-anchor" href="#相关扩展插件" aria-hidden="true">#</a> 相关扩展插件</h2>',7),u={href:"https://www.npmjs.com/package/ol-wind",target:"_blank",rel:"noopener noreferrer"},k={href:"https://turfjs.fenxianglu.cn/category/#cdn%E9%93%BE%E6%8E%A5",target:"_blank",rel:"noopener noreferrer"},d={href:"https://www.thunderforest.com/maps/landscape/",target:"_blank",rel:"noopener noreferrer"},m={href:"https://www.windy.com/",target:"_blank",rel:"noopener noreferrer"},v=n("h2",{id:"实用代码片段",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#实用代码片段","aria-hidden":"true"},"#"),s(" 实用代码片段")],-1),b=n("h3",{id:"绘制等高线",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#绘制等高线","aria-hidden":"true"},"#"),s(" 绘制等高线")],-1),h={href:"https://segmentfault.com/a/1190000022293641",target:"_blank",rel:"noopener noreferrer"},y=t(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>  <span class="token comment">// 参考自：https://turfjs.fenxianglu.cn/category/interpolation/isobands.html</span>
  <span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> turf <span class="token keyword">from</span> <span class="token string">&#39;@turf/turf&#39;</span>

  <span class="token comment">// 生成随机数据</span>
  <span class="token keyword">const</span> extent <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">]</span>
  <span class="token keyword">const</span> cellWidth <span class="token operator">=</span> <span class="token number">100</span>
  <span class="token keyword">const</span> pointGrid <span class="token operator">=</span> turf<span class="token punctuation">.</span><span class="token function">pointGrid</span><span class="token punctuation">(</span>extent<span class="token punctuation">,</span> cellWidth<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">units</span><span class="token operator">:</span> <span class="token string">&#39;miles&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> pointGrid<span class="token punctuation">.</span>features<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      pointGrid<span class="token punctuation">.</span>features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span>elevationLayer <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 给数据分组</span>
  <span class="token keyword">const</span> breaks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span> <span class="token comment">// 数据区间</span>
  <span class="token keyword">const</span> lines <span class="token operator">=</span> turf<span class="token punctuation">.</span><span class="token function">isobands</span><span class="token punctuation">(</span>pointGrid<span class="token punctuation">,</span> breaks<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">zProperty</span><span class="token operator">:</span> <span class="token string">&#39;elevationLayer&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 生成数据加入图层</span>
  <span class="token keyword">let</span> vectorSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VectorSource</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">features</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">GeoJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">readFeatures</span><span class="token punctuation">(</span>lines<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">featureProjection</span><span class="token operator">:</span> <span class="token string">&#39;EPSG:3857&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>elevationLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VectorLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">source</span><span class="token operator">:</span> vectorSource<span class="token punctuation">,</span>
    <span class="token function-variable function">style</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">feature</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Style</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">stroke</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Stroke</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;#1a91c5&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>elevationLayer<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1);function f(w,g){const a=o("ExternalLinkIcon");return c(),l("div",null,[i,n("ul",null,[n("li",null,[n("a",u,[s("ol-wind"),e(a)]),s(" : 风矢量场图绘制")]),n("li",null,[n("a",k,[s("turfjs"),e(a)]),s(" : 地理相关计算")]),n("li",null,[n("a",d,[s("thunderforest"),e(a)]),s(" : 等高线图层")]),n("li",null,[n("a",m,[s("windy"),e(a)]),s(" ：Leaflet实现各种功能参考")])]),v,b,n("blockquote",null,[n("p",null,[s("参考 "),n("a",h,[s("Javascript(turfjs)等值线图绘制"),e(a)])])]),y])}const x=p(r,[["render",f],["__file","openlayers.html.vue"]]);export{x as default};
