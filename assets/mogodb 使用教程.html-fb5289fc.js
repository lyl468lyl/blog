import{_ as n,o as s,c as a,e}from"./app-06cb3f48.js";const p={},t=e(`<h1 id="mogodb-使用教程" tabindex="-1"><a class="header-anchor" href="#mogodb-使用教程" aria-hidden="true">#</a> mogodb 使用教程</h1><ol><li><p>安装使用</p><div class="language-perl line-numbers-mode" data-ext="perl"><pre class="language-perl"><code>sudo apt<span class="token operator">-</span>get install mongodb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>进入mongodb命令行</p><div class="language-perl line-numbers-mode" data-ext="perl"><pre class="language-perl"><code>mongo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>创建一 用户名为 admin 密码为 adminl23 的用户，赋予最高权限</p><div class="language-perl line-numbers-mode" data-ext="perl"><pre class="language-perl"><code><span class="token keyword">use</span> sps_mongo_<span class="token v-string string">v2</span>

db<span class="token operator">.</span>createUser<span class="token punctuation">(</span><span class="token punctuation">{</span>user<span class="token punctuation">:</span> <span class="token string">&#39;root&#39;</span><span class="token punctuation">,</span> pwd<span class="token punctuation">:</span> <span class="token string">&#39;shangjian123456&#39;</span><span class="token punctuation">,</span> roles<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>role<span class="token punctuation">:</span> <span class="token string">&#39;dbAdmin&#39;</span><span class="token punctuation">,</span> db<span class="token punctuation">:</span> <span class="token string">&#39;sps_mongo_v2&#39;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>插入一条数据</p><div class="language-perl line-numbers-mode" data-ext="perl"><pre class="language-perl"><code>db<span class="token operator">.</span>book<span class="token operator">.</span>insert<span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>启动、关闭、重启</p></li></ol><div class="language-perl line-numbers-mode" data-ext="perl"><pre class="language-perl"><code>sudo service mongod stop

service mongod start

sudo service mongod restart
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li><p>配置:要想让别的主机连接安装好的mongodb需要修改配置文件，配置文件位于/etc目录下</p><div class="language-perl&#39; line-numbers-mode" data-ext="perl&#39;"><pre class="language-perl&#39;"><code>/etc/mongodb.conf

将bind_ip = 127.0.0.1 修改为0.0.0.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>java 开发相关依赖</p><div class="language-perl line-numbers-mode" data-ext="perl"><pre class="language-perl"><code><span class="token filehandle symbol">&lt;dependency&gt;</span>

  <span class="token filehandle symbol">&lt;groupId&gt;</span>org<span class="token operator">.</span>springframework<span class="token operator">.</span>boot<span class="token filehandle symbol">&lt;/groupId&gt;</span>

  <span class="token filehandle symbol">&lt;artifactId&gt;</span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>data<span class="token operator">-</span>mongodb<span class="token filehandle symbol">&lt;/artifactId&gt;</span>

<span class="token filehandle symbol">&lt;/dependency&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>spring 链接方式</p><div class="language-perl line-numbers-mode" data-ext="perl"><pre class="language-perl"><code>spring<span class="token punctuation">:</span>

  data<span class="token punctuation">:</span>

​    mongodb<span class="token punctuation">:</span>

​      uri<span class="token punctuation">:</span> mongodb<span class="token punctuation">:</span><span class="token operator">//</span>root<span class="token punctuation">:</span>shangjian123456<span class="token variable">@192</span><span class="token operator">.</span><span class="token v-string string">168.50.230</span><span class="token punctuation">:</span><span class="token number">27017</span><span class="token operator">/</span>shangjian
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>图形界面工具</p><div class="language-pel line-numbers-mode" data-ext="pel"><pre class="language-pel"><code>https://www.mongodb.com/try/download/community
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>基本操作</p><div class="language-perl line-numbers-mode" data-ext="perl"><pre class="language-perl"><code><span class="token number">1</span><span class="token operator">.</span>mongoTemplate<span class="token operator">.</span>findAll<span class="token punctuation">(</span>Student<span class="token operator">.</span>class<span class="token punctuation">)</span><span class="token punctuation">:</span> 查询Student文档的全部数据

<span class="token number">2</span><span class="token operator">.</span>mongoTemplate<span class="token operator">.</span>findById<span class="token punctuation">(</span><span class="token filehandle symbol">&lt;id&gt;</span><span class="token punctuation">,</span> Student<span class="token operator">.</span>class<span class="token punctuation">)</span><span class="token punctuation">:</span> 查询Student文档id为id的数据

<span class="token number">3</span><span class="token operator">.</span>mongoTemplate<span class="token operator">.</span>find<span class="token punctuation">(</span>query<span class="token punctuation">,</span> Student<span class="token operator">.</span>class<span class="token punctuation">)</span><span class="token punctuation">:</span> 根据query内的查询条件查询

<span class="token number">4</span><span class="token operator">.</span>mongoTemplate<span class="token operator">.</span>upsert<span class="token punctuation">(</span>query<span class="token punctuation">,</span> update<span class="token punctuation">,</span> Student<span class="token operator">.</span>class<span class="token punctuation">)</span><span class="token punctuation">:</span> 修改

<span class="token number">5</span><span class="token operator">.</span>mongoTemplate<span class="token operator">.</span>remove<span class="token punctuation">(</span>query<span class="token punctuation">,</span> Student<span class="token operator">.</span>class<span class="token punctuation">)</span><span class="token punctuation">:</span> 删除

<span class="token number">6</span><span class="token operator">.</span>mongoTemplate<span class="token operator">.</span>insert<span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">:</span> 新增
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol>`,4),l=[t];function o(i,c){return s(),a("div",null,l)}const d=n(p,[["render",o],["__file","mogodb 使用教程.html.vue"]]);export{d as default};
